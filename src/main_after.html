<!DOCTYPE html>
<html lang="ko">
    @@include('./include/_head.html',{
        "title" : "메인"
    })
<body>
    <!-- skip menu -->
    @@include('./include/_skip.html')
    <!-- //skip menu -->
    <div class="page_wrap main">
        <div class="bg_full"><img src="./resources/images/bg_main.jpg" alt="" aria-hidden="true"></div>
        <header class="header_wrap">
            <h1 class="toplogo">
                <a href="#" class="toplogo_link">
                    <span class="hdtext">복지위기알림</span>
                </a>
            </h1>
            <div class="header_layer pos_right">
                <a href="javascript:;" class="btn_gnb_opener"><span class="hdtext">메인메뉴 열기</span></a>
            </div>
        </header>
        <main class="middle_wrap main_contents_wrap" id="contents">
            <h2 class="hdtext">메인 컨텐츠</h2>
            <div class="mc_liquid_row">
                <p class="mc_main_copy">
                    나와 이웃에게<br>
                    도움이 필요할 때<br>
                    언제든지 알려주세요
                </p>
            </div>
            <div class="mc_pixed_row">
                <ul class="mc_card_banner_list">
                    <li>
                        <a href="#" class="mc_card_banner">
                            <div class="mc_card_copy_cols">
                                <div class="mc_card_copy">나에게<br>도움이 필요해요</div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="mc_card_banner type2">
                            <div class="mc_card_copy_cols">
                                <div class="mc_card_copy">이웃에게<br>도움이 필요해요</div>
                            </div>
                        </a>
                    </li>
                </ul>
                <ul class="mc_quad_menu_list">
                    <li>
                        <a href="#" class="mc_quad_menu">
                            <i class="ico ico_docu"></i>
                            <div class="mc_quad_text">공지사항</div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="mc_quad_menu">
                            <i class="ico ico_chart"></i>
                            <div class="mc_quad_text">신고현황</div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="mc_quad_menu">
                            <i class="ico ico_notice"></i>
                            <div class="mc_quad_text">나의 알림</div>
                        </a>
                    </li>
                </ul>
            </div>
        </main>
        <div class="mc_bottom_menu_wrap">
            <h3 class="hdtext">바로가기 메뉴</h3>
            <div class="bottom_menu_list_wrap">
                <ul class="bottom_menu_list">
                    <li>
                        <a href="#" class="bottom_menu active">
                            <i class="ico_bottom ico_home"></i>
                            <div class="bottom_menu_text">홈</div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="bottom_menu">
                            <i class="ico_bottom ico_docu"></i>
                            <div class="bottom_menu_text">알림보기</div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="bottom_menu">
                            <i class="ico_bottom ico_my"></i>
                            <div class="bottom_menu_text">나의 정보</div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- mobile -->
        @@include('./include/_gnb_after.html')
        <!-- // mobile -->
        <!-- popup -->
        <div class="popup_wrap" id="mainNoticePopup">
            <div class="bg_dim"></div>
            <div class="popup_box_item">
                <div class="popup_box_contents_row">
                    <h3 class="popup_box_title">국민참여형 복지위기알림서비스</h3>
                    <div class="popup_box_article">
                        2023년 11월 1일 00:00 ~ 2023년 11월 15일 12:00 시스템 점검으로 서비스가 일시 중단되오니 이점을 확인하여 이용에 불편이 없으시길 바랍니다. 서비스점검기간동안 복지위기알림서비스의 
                        복지위기 신고 기능 외에는 모든 기능이 중단됩니다. 다른서비스은 순차적으로 정상화할 예정이오니 
                        다시 한번 확인바랍니다<br><br>

                        감사합니다
                    </div>
                    <div class="popup_box_props_row">
                        <div class="props_item">
                            <input type="checkbox" class="props_form" id="today_check">
                            <label for="today_check" class="props_label emp">24시간동안 보지않음</label>
                        </div>
                    </div>
                </div>
                <div class="popup_box_btn_row">
                    <!-- close_trigger 클릭시 팝업 닫기 -->
                    <a href="#" class="btn_popup_submit primary close_trigger"><span class="btn_popup_submit_text">확인</span></a>
                </div>
            </div>
        </div>
        <div class="popup_wrap" id="mainAlertPopup01">
            <div class="bg_dim"></div>
            <div class="popup_box_item">
                <div class="popup_box_contents_row">
                    <p class="popup_box_message_para">"알림 신청은 회원로그인/비회원 인증 후에 사용 가능합니다“ </p>
                    <p class="popup_box_message_para subcopy">로그인 또는 비회원 인증을 하시겠습까?</p>
                </div>
                <div class="popup_box_btn_row type2">
                    <!-- close_trigger 클릭시 팝업 닫기 -->
                    <a href="#" class="btn_popup_submit primary"><span class="btn_popup_submit_text">로그인 이동</span></a>
                    <a href="#" class="btn_popup_submit close_trigger"><span class="btn_popup_submit_text">취소</span></a>
                </div>
            </div>
        </div>
        <div class="popup_wrap" id="mainAlertPopup02">
            <div class="bg_dim"></div>
            <div class="popup_box_item">
                <div class="popup_box_contents_row">
                    <p class="popup_box_message_para">24시간동안 팝업 공지를 열지 않습니다.</p>
                </div>
                <div class="popup_box_btn_row type2">
                    <!-- close_trigger 클릭시 팝업 닫기 -->
                    <a href="#" class="btn_popup_submit primary close_trigger"><span class="btn_popup_submit_text">확인</span></a>
                    <a href="#" class="btn_popup_submit close_trigger"><span class="btn_popup_submit_text">취소</span></a>
                </div>
            </div>
        </div>
        <!-- // popup -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                // 인스턴스 선언
                let mainNoticePopup = new DesignPopup({
                    selector: "#mainNoticePopup",
                    beforeCallback(){

                    },
                    callback(){

                    },
                    closeCallback(){
                        
                    }
                });
                let mainAlertPopup01 = new DesignPopup({
                    selector: "#mainAlertPopup01",
                    beforeCallback(){

                    },
                    callback(){

                    },
                    closeCallback(){
                        
                    }
                });
                let mainAlertPopup02 = new DesignPopup({
                    selector: "#mainAlertPopup02",
                    beforeCallback(){

                    },
                    callback(){

                    },
                    closeCallback(){
                        
                    }
                });
                let today_check_trigger = document.querySelector("#today_check");
                
                // cookie 조회
                let getCookie = null;
                if(document.cookie.length){
                    var parseCookie = str =>
                    str
                    .split(';')
                    .map(v => v.split('='))
                    .reduce((acc, v) => {
                        acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
                        return acc;
                    }, {});
                    getCookie = parseCookie(document.cookie);
                }
                // 쿠키 설정
                var setCookie = function(name, value, exp) {      
                    var date = new Date();      
                    date.setTime(date.getTime() + exp*24*60*60*1000);      
                    document.cookie = name + '=' + value + ';expires=' + date.toUTCString() + ';path=/';  
                };

                // 클릭시 쿠키생성
                if(!!today_check_trigger){
                    today_check_trigger.addEventListener("click",(e)=>{
                        setCookie('noticeCookie',"true",1);
                    });
                }

                

                // 퍼블확인용
                let url = window.location.href.split('?')[1];
                let url_2 = url !== undefined ? url.split('#')[0] : null;
                if(url_2 === "notice"){
                    
                    // 쿠키 체크
                    if(!(document.cookie.length>0 && getCookie.hasOwnProperty("noticeCookie"))){
                        mainNoticePopup.popupShow();
                    }
                    
                }else if(url_2 === "popup"){
                    mainAlertPopup01.popupShow();
                }else if(url_2 === "popup2"){
                    mainAlertPopup02.popupShow();
                }else if(url_2 === "menu"){
                    setTimeout(()=>{
                        let clickEvent = new MouseEvent("click");
                        document.querySelector(".btn_gnb_opener").dispatchEvent(clickEvent);
                    },50);
                }
            });
        </script>
    </div>
</body>
</html>